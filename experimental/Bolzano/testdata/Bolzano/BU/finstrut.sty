\NeedsTeXFormat{LaTeX2e}[1994/12/01]
\ProvidesPackage{finstrut}[2010/12/20 v0.1 vmode final strut (UL)]

%% Copyright (C) 2010 Uwe Lueck, 
%% http://www.contact-ednotes.sty.de.vu 
%% -- author-maintained in the sense of LPPL below -- 
%%
%% This file can be redistributed and/or modified under 
%% the terms of the LaTeX Project Public License; either 
%% version 1.3c of the License, or any later version.
%% The latest version of this license is in
%%     http://www.latex-project.org/lppl.txt
%% We did our best to help you, but there is NO WARRANTY. 
%%
%% Please report bugs, problems, and suggestions via 
%% 
%%   http://www.contact-ednotes.sty.de.vu 
%%
%% This is a variant of LaTeX's `\@finalstrut'
%% that doesn't produce a spurious empty line 
%% in vmode. In general, this deals with a 
%% closing `\par' from users in footnotes, 
%% the idea especially came from using the 
%% 'lipsum' package.
%% See `source2e.pdf' for the rationale 
%% behind the original definition; it may imply 
%% that the present suggestion is bad with 
%% `p' columns in `tabular' etc.
\renewcommand*{\@finalstrut}[1]{%
    \unskip
    \ifhmode
        \nobreak
%% ... allows hyphenation of last word.
        \vrule \@width\z@ \@height\z@
               \@depth \expandafter \dp
    \else
%% Assuming it's vmode:
        \kern -\prevdepth
        \kern \expandafter \dp
    \fi
%% With the applications in `latex.ltx', namely with 
%% one-token parameters only, the parameter could be 
%% dropped. Keeping it may once be useful for referring 
%% to a box register by `\box<n>'.
    #1%
}
\endinput
%%
%% == VERSION HISTORY ==

v0.1   2010/12/20   very first 
